#!/bin/bash

# Force updates remote topic branch with local branch.

function show()
{
	echo $'\e[1;34m==>\e[0m\e[31m' $1 $'\e[0m'
}

function abort()
{
	echo $'\e[1;31merror:' $1 $'\e[0m' >&2
	exit 1
}

BRANCH="$(git rev-parse --abbrev-ref HEAD)"
[[ "$BRANCH" != "master" ]] || abort "$BRANCH isn't a topic branch, dummy!"
CMD="git push -fu origin $BRANCH"
show "$CMD"
eval "$CMD"
